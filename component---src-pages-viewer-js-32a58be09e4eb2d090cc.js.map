{"version":3,"file":"component---src-pages-viewer-js-32a58be09e4eb2d090cc.js","mappings":"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","sources":["webpack://gatsby-starter-default/./src/pages/viewer.js"],"sourcesContent":["import * as React from \"react\"\n// import { Link } from \"gatsby\"\n// import { StaticImage } from \"gatsby-plugin-image\"\n\n// import Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport { Helmet } from \"react-helmet\"\nimport { Stage, StructureComponent } from \"react-ngl\"\nimport { Autocomplete, Checkbox, Grid, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TextField } from \"@mui/material\"\nimport finalData from '../database/plas5k.json'\n// import { initializeApp } from 'firebase/app';\n// import { getAuth, onAuthStateChanged } from \"firebase/auth\";\n// import { navigate } from \"gatsby\"\n// import { useEffect} from \"react\";\n// import config from \"../service/fireconf\"\nimport Layout from \"../components/layout\";\n// import MathJax from \"react-mathjax\";\n// import { getDownloadURL, getStorage, ref } from \"firebase/storage\";\n\n\n\n\nexport default function IndexPage(){\n  // function ObtainJSON(){\n  //   if(typeof window !== 'undefined'){\n  //     const storage = getStorage();\n  //     getDownloadURL(ref(storage, \"PLAS-5k/database/plas5k.json\")).then((url)=>{\n  //       fetch(url).then((response)=>response.json()).then((responseJSON)=>{\n  //         setFinalData(responseJSON); \n  //         // console.log(responseJSON[0])\n  //       });\n  //     }).catch((error)=>{\n  //       alert(\"Error in obtainint JSON\");\n  //     })\n  //   }\n  // }\n\n\n//   useEffect(()=>{\n//     if(typeof window !== 'undefined'){\n//         const app =initializeApp(config);\n//         const auth = getAuth(app);\n//         onAuthStateChanged(auth, (user)=>{\n//             if(!user){\n//                 navigate(\"/auth\")\n//             }else{\n//                 // console.log(user.email);\n//                 // ObtainJSON();\n//             }\n//         })\n//     }\n// })\n  const reprList = React.useMemo(() => ({\n    'backgroundColor':\"white\",\n    'ball+stick': [{\n      type: 'ball+stick',\n      param:{\n        color:'bfactor'\n      }\n    }],\n    cartoon: [{\n      type: 'cartoon',\n      param:{\n        color:'atomindex'\n      }\n    }],\n    'ribbon and line': [{\n      type: 'ribbon',\n      param: {\n        color: 'atomindex'\n      }\n    }, {\n      type: 'line',\n      param: {\n        color: 'element'\n      }\n    }],\n    spacefill: [{\n      type: 'spacefill',\n      param: {\n        color: 'element'\n      }\n    }],\n    surface: [{\n      type: 'surface',\n      param: {\n        color: 'element'\n      }\n    }]\n  }), []);\n  const cameraState = React.useMemo(()=>({\n    Reset:{},\n  }),[])\n\n  const [inputValue, setInputValue] = React.useState('');\n  const [index, setIndex] = React.useState('');\n  const [receptorState, setReceptorState]= React.useState(true);\n  const [ligandState, setLigandState]= React.useState(true);\n  const [pdburl,setPdburl] = React.useState(\"\");\n  // const [finalData,setFinalData] = React.useState([]);\n\n  function PdbRequest(newInputValue){\n    if (newInputValue.length !== null && newInputValue.length === 4){\n      // if(typeof window !== 'undefined'){\n      //   const storage = getStorage();\n      //   getDownloadURL(ref(storage, \"PLAS-5k/pdb/\"+inputValue+\".pdb\")).then((url)=>{\n      //     console.log(url)\n      //     setPdburl(url);\n      //   }).catch((error)=>{\n      //     alert(\"Error\",error.message);\n      //   })\n      // }\n      setPdburl(\"/input/\"+newInputValue+\".pdb\");\n      setInputValue(newInputValue);\n      setIndex(finalData.findIndex(obj => obj.pdbid === newInputValue));\n      console.log(index);\n    }\n  }\n\n  return(\n    <Layout>\n    <Seo title=\"Home\" />\n    <Helmet>\n      {/* <script src={withPrefix('ngl.js')} type=\"text/javascript\"/> */}\n    </Helmet>\n    <div style={{}}>\n    <Autocomplete\n      style={{paddingTop: '2rem'}}\n      freeSolo\n      id=\"pdbid\"\n      options={finalData.map((option)=>option.pdbid)}\n      sx={{ width: 300 }}\n      renderInput={(params) => <TextField {...params} label=\"PDB ID\" sx={{\n        '& .MuiInputBase-root':{\n          color: 'white',\n          borderColor: '#1C1D26',\n          justifyContent: 'center',\n        },\n        '& .MuiInput-root':{\n          border: 1,\n          color:'white',\n          borderColor: '#1C1D26'\n        },\n        '& MuiInputBase-input':{\n          color: 'white',\n        },\n        '& .MuiInputLabel-root':{\n          color:'white',\n        },\n        // '& ..MuiFormControl-root':{\n        //   borderColor: '#1C1D26'\n        // }\n      }}/>}\n      onChange={(event,newInputValue)=>PdbRequest(newInputValue)}\n      // sx={{\n      //   '& .MuiAutocomplete-input':{\n      //     backgroundColor:\"white\"\n      //   }\n      // }}\n    />\n    </div>\n    {/* <Stage width=\"600px\" height=\"600px\" cameraState={cameraState}>\n      <Component path={\"/pdb/\"+inputValue+\".pdb\"} reprList={reprList}/>\n    </Stage> */}\n    {\n      inputValue !== '' \n        ? <div id=\"main\" className=\"wrapper style1\">\n          <Grid container spacing={4} direction=\"row\">\n            <Grid item>\n              <Stage width=\"600px\" height=\"600px\" cameraState={cameraState}>\n                <StructureComponent path={\"/ligand/ligand-\"+inputValue+\".pdb\"} reprList={reprList['ball+stick']} selection={ligandState ? 'all' : 'not all'}/>\n                <StructureComponent path={\"/protein/protein-\"+inputValue+\".pdb\"} reprList={reprList['cartoon']} selection={receptorState ? 'all' : 'not all'}/>\n              </Stage>\n            </Grid>\n            <Grid item>\n              <Grid container direction=\"column\">\n                <Grid item>\n                  <h5>Receptor <Checkbox defaultChecked onChange={()=>{setReceptorState(!receptorState)}}/></h5>\n                </Grid>\n                <Grid item>\n                  <h5>Ligand <Checkbox defaultChecked onChange={()=>{setLigandState(!ligandState)}}/></h5>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item>\n              <TableContainer component={Paper}>\n                <Table>\n                  <TableHead>\n                    <TableCell align=\"left\">{(finalData[index]['pdbid'])}</TableCell>\n                    <TableCell align=\"right\">Energy components(kcal/mol)</TableCell>\n                  </TableHead>\n                  <TableBody>\n                    {/* <TableRow>\n                      <TableCell align=\"left\">Ligand RMSD</TableCell>\n                      <TableCell align=\"right\">{finalData[index]['LigandRmsdMean']} ({finalData[index]['LigandRmsdSd']})</TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell align=\"left\">Protein RMSD</TableCell>\n                      <TableCell align=\"right\">{finalData[index]['ProteinRmsdMean']} ({finalData[index]['ProteinRmsdSd']})</TableCell>\n                    </TableRow> */}\n                    <TableRow>\n                      <TableCell align=\"left\">Binding Affinity</TableCell>\n                      <TableCell align=\"right\">{parseFloat(finalData[index]['binding_affinity']).toFixed(2)} </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell align=\"left\">van der Walls Interaction</TableCell>\n                      <TableCell align=\"right\">{parseFloat(finalData[index]['vdW']).toFixed(2)}</TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell align=\"left\">Electrostatic Interaction Energy</TableCell>\n                      <TableCell align=\"right\">{parseFloat(finalData[index]['electrostatic']).toFixed(2)}</TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell align=\"left\">Polar Solvational Energy</TableCell>\n                      <TableCell align=\"right\">{parseFloat(finalData[index]['polar_solvation']).toFixed(2)} </TableCell>\n                    </TableRow>\n                    <TableRow>\n                      <TableCell align=\"left\">Non-Polar Solvational Energy</TableCell>\n                      <TableCell align=\"right\">{parseFloat(finalData[index]['non_polar_solvation']).toFixed(2)} </TableCell>\n                    </TableRow>\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Grid>\n          </Grid>\n          {/* <Grid container spacing=\"auto\" direction=\"column\">\n            <Grid item xs={2}>\n              <h4><b>Binding Affinity:</b> {finalData[index]['di4_DELTA TOTAL_mean']}</h4>\n            </Grid>\n            <Grid item xs={2}>\n              <h4><b>van der Waals Interaction Energy:</b> {finalData[index]['VDW']}</h4>\n            </Grid>\n            <Grid item xs=\"auto\">\n              <h4><b>Electrostatic Interaction Energy</b> {finalData[index]['di4_EEL_mean']}</h4>\n            </Grid>\n            <Grid>\n              <h4><b>Non-Polar Interaction Energy</b> {finalData[index]['di4_EPB_mean']}</h4>\n            </Grid>\n          </Grid> */}\n          </div>\n        : <p></p>\n    }\n  </Layout>\n  );\n}"],"names":["IndexPage","reprList","React","type","param","color","cartoon","spacefill","surface","cameraState","Reset","inputValue","setInputValue","index","setIndex","receptorState","setReceptorState","ligandState","setLigandState","setPdburl","title","style","paddingTop","freeSolo","id","options","finalData","option","pdbid","sx","width","renderInput","params","label","borderColor","justifyContent","border","onChange","event","newInputValue","length","obj","console","log","PdbRequest","className","container","spacing","direction","item","Stage","height","StructureComponent","path","selection","defaultChecked","component","Paper","align","parseFloat","toFixed"],"sourceRoot":""}